<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title></title>
  <link rel="stylesheet" href="css/updates.css">
</head>

<body>
  <script>
    // Function to get URL parameter value by name
    function getUrlParameter(name) {
      const urlParams = new URLSearchParams(window.location.search);
      return urlParams.get(name);
    }

    // Fetch the updates.json file
    fetch('recapUpdates.json')
      .then(response => response.json())
      .then(data => {
        const name = getUrlParameter('name'); // Get the 'name' parameter from the URL
        if (name && data[name]) {
          // Set the title tag to the value of {name}.title
          document.title = data[name].title;

          // Set the body content to the value of {name}.body
          document.body.innerHTML = data[name].body;
        } else {
          console.error('Name parameter is missing or not found in updates.json');
          document.body.innerHTML = 'Name parameter is missing or not found in updates.json';
        }

        // After modifying body, fetch blogUpdates.json
        fetch('blogUpdates.json')
          .then(response => response.json())
          .then(blogData => {
            if (name && blogData[name]) {
              // Append the value from blogUpdates.json to the body
              document.body.innerHTML += `<div>${blogData[name]}</div>`;
            }
          })
          .catch(error => {
            console.error('Error loading blogUpdates.json:', error);
          });
      })
      .catch(error => {
        console.error('Error loading updates.json:', error);
      });
  </script>
</body>